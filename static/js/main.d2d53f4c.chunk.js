(this["webpackJsonpmesto-react-func"]=this["webpackJsonpmesto-react-func"]||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/onerror.a6166131.jpg"},24:function(e,t,a){e.exports=a.p+"static/media/logo.c6f11019.svg"},25:function(e,t,a){e.exports=a.p+"static/media/failed.78c426f5.jpg"},26:function(e,t){e.exports="data:image/jpeg;base64,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"},28:function(e,t,a){e.exports=a(39)},33:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(19),i=a.n(r),s=a(6),c=(a(33),a(1)),l=a(2),u=a(27),f=function(e){var t=e.component,a=Object(u.a)(e,["component"]);return o.a.createElement(l.b,null,(function(){return!0===a.loggedIn?o.a.createElement(t,a):o.a.createElement(l.a,{to:"/sign-in"})}))},A=a(16),p=a(21),m=a.n(p),d=function(e){var t=o.a.useState(!1),a=Object(c.a)(t,2),n=a[0],r=a[1];o.a.useEffect((function(){r(!1)}),[e.src]);return o.a.createElement("img",{className:e.className,src:n?m.a:e.src,alt:e.alt,onError:function(){r(!0)},onClick:e.onClick})},b=o.a.createContext(),v=function(){return Object(n.useContext)(b)},h=function(e){return o.a.createElement(b.Provider,{value:e.value},e.children)},E=function(e){var t=e.card,a=e.onCardClick,n=e.onCardLike,r=e.onCardDelete,i=v(),s=t.owner._id===i._id,c=t.likes.some((function(e){return e._id===i._id}));return o.a.createElement("div",{className:"photocard"},o.a.createElement(d,{className:"photocard__viewport",src:t.link,alt:"\u0424\u043e\u0442\u043e \u043c\u0435\u0441\u0442\u0430",onClick:function(){a(t)},onError:null}),o.a.createElement("button",{className:"photocard__delete ".concat(s&&"photocard__delete_show"),type:"button",onClick:function(){r(t)}}),o.a.createElement("div",{className:"photocard__description"},o.a.createElement("h2",{className:"photocard__placename"},t.name),o.a.createElement("div",{className:"photocard__likes"},o.a.createElement("button",{className:"photocard__like ".concat(c&&"photocard__like_on"),type:"button",onClick:function(){n(t)}}),o.a.createElement("span",{className:"photocard__count"},t.likes.length))))},g=function(e){var t=e.onAddPlace.bind(void 0),a=e.onEditProfile.bind(void 0),n=e.onEditAvatar.bind(void 0),r=v();return o.a.createElement("main",{className:"main"},o.a.createElement("section",{className:"profile ".concat(e.isHidden&&"profile_hidden")},o.a.createElement("div",{className:"profile__avatar-overlay",onClick:n},o.a.createElement(d,{className:"profile__avatar",src:r.avatar,alt:"\u0410\u0432\u0430\u0442\u0430\u0440 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})),o.a.createElement("div",{className:"profile__info"},o.a.createElement("div",{className:"profile__title"},o.a.createElement("h1",{className:"profile__name"},r.name),o.a.createElement("button",{className:"profile__editbutton",onClick:a,type:"button"})),o.a.createElement("p",{className:"profile__about"},r.about)),o.a.createElement("button",{className:"profile__addbutton",onClick:t,type:"button"})),o.a.createElement("section",{className:"placesphotos"},e.cards.map((function(t){return o.a.createElement(E,{key:t._id,card:t,onCardClick:e.onCardClick,onCardLike:e.onCardLike,onCardDelete:e.onCardDelete})}))))},C=function(){return o.a.createElement("footer",{className:"footer"},o.a.createElement("p",{className:"footer__copyright"},"\xa9 2020 Mesto Russia"))},w=function(e){var t=o.a.useRef(null),a=o.a.useCallback((function(t){"Escape"===t.key&&e.onClose()}),[]);return o.a.useEffect((function(){e.isOpened?document.addEventListener("keydown",a):document.removeEventListener("keydown",a)}),[e.isOpened]),o.a.createElement("section",{className:"popup popup_".concat(e.name," ").concat(e.isOpened&&"popup_opened"),onMouseDown:function(a){a.target===t.current&&e.onClose()},ref:t},e.children)},P=function(e){var t=!0;return void 0!==e.buttonEnabled&&(t=e.buttonEnabled),o.a.createElement(w,{name:e.name,isOpened:e.isOpened,onClose:e.onClose},o.a.createElement("form",{className:"popup__container",action:"#",method:"POST",name:"".concat(e.name),noValidate:!0,onSubmit:e.onSubmit},o.a.createElement("h2",{className:"popup__title"},"".concat(e.title)),e.children,o.a.createElement("button",{className:"popup__submit ".concat(t?"":"popup__submit_disabled"),disabled:t?"":"disabled",type:"submit"},e.buttonTitle),o.a.createElement("button",{className:"popup__reset",type:"button",onClick:e.onClose})))},B=function(e){var t=Object(n.useState)(!0),a=Object(c.a)(t,2),r=a[0],i=a[1],s=Object(n.useState)("None"),l=Object(c.a)(s,2),u=l[0],f=l[1],A=Object(n.useRef)(null);return Object(n.useEffect)((function(){A.current&&(i(A.current.validity.valid),f(A.current.validationMessage),void 0!==e.onButtonStatusChange&&e.onButtonStatusChange(A.current.validity.valid))})),o.a.createElement("div",{className:e.wrapClasses},o.a.createElement("input",{className:e.className,type:e.type,name:e.name,placeholder:e.placeholder,value:e.value,onChange:e.onChange,required:!!e.required,minLength:e.minLength,maxLength:e.maxLength,ref:A}),o.a.createElement("span",{className:"popup__input_type_error ".concat(!r&&e.isTouched?"popup__error_visible":"")},u))},j=function(e){var t=v(),a=o.a.useState(t.name),n=Object(c.a)(a,2),r=n[0],i=n[1],s=o.a.useState(!0),l=Object(c.a)(s,2),u=l[0],f=l[1],A=o.a.useState(!1),p=Object(c.a)(A,2),m=p[0],d=p[1],b=o.a.useState(t.about),h=Object(c.a)(b,2),E=h[0],g=h[1],C=o.a.useState(!0),w=Object(c.a)(C,2),j=w[0],N=w[1],x=o.a.useState(!1),O=Object(c.a)(x,2),_=O[0],H=O[1],T=u&&j;o.a.useEffect((function(){i(t.name),g(t.about)}),[t,e.isOpened]);return o.a.createElement(P,{name:"profileedit",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",buttonTitle:e.buttonTitle,buttonEnabled:T,isOpened:e.isOpened,onClose:e.onClose,onSubmit:function(t){t.preventDefault(),e.onUpdateUser({name:r,about:E})}},o.a.createElement(B,{className:"popup__input popup__input_name popup__input_top",type:"text",name:"name",placeholder:"\u0418\u043c\u044f",value:r,onChange:function(e){d(!0),i(e.target.value)},required:!0,minLength:"2",maxLength:"40",isTouched:m,onButtonStatusChange:f}),o.a.createElement(B,{className:"popup__input popup__input_about",type:"text",name:"about",onChange:function(e){H(!0),g(e.target.value)},placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",value:E,required:!0,minLength:"2",maxLength:"200",isTouched:_,onButtonStatusChange:N}))},N=function(e){var t=Object(n.useState)(""),a=Object(c.a)(t,2),r=a[0],i=a[1],s=Object(n.useState)(!0),l=Object(c.a)(s,2),u=l[0],f=l[1],A=Object(n.useState)(!1),p=Object(c.a)(A,2),m=p[0],d=p[1],b=u,v=function(){i(""),d(!1)};return o.a.createElement(P,{name:"newavatar",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",buttonTitle:e.buttonTitle,buttonEnabled:b,isOpened:e.isOpened,onClose:function(){e.onClose(),v()},onSubmit:function(t){t.preventDefault(),e.onUpdateAvatar({avatar:r}),v()}},o.a.createElement(B,{className:"popup__input popup__input_top",type:"url",name:"avatar",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",value:r,onChange:function(e){d(!0),i(e.target.value)},required:!0,isTouched:m,onButtonStatusChange:f}))},x=function(e){var t=Object(n.useState)(""),a=Object(c.a)(t,2),r=a[0],i=a[1],s=Object(n.useState)(!0),l=Object(c.a)(s,2),u=l[0],f=l[1],A=Object(n.useState)(!1),p=Object(c.a)(A,2),m=p[0],d=p[1],b=Object(n.useState)(""),v=Object(c.a)(b,2),h=v[0],E=v[1],g=Object(n.useState)(!0),C=Object(c.a)(g,2),w=C[0],j=C[1],N=Object(n.useState)(!1),x=Object(c.a)(N,2),O=x[0],_=x[1],H=u&&w,T=function(){i(""),E(""),d(!1),_(!1)};return o.a.createElement(P,{name:"newplace",title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",buttonTitle:e.buttonTitle,buttonEnabled:H,isOpened:e.isOpened,onClose:function(){e.onClose(),T()},onSubmit:function(t){t.preventDefault(),e.onCreateCard({name:r,link:h}),e.onClose(),T()}},o.a.createElement(B,{className:"popup__input popup__input_photoname popup__input_top",type:"text",name:"photoName",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:r,onChange:function(e){d(!0),i(e.target.value)},required:!0,minLength:"1",maxLength:"30",isTouched:m,onButtonStatusChange:f}),o.a.createElement(B,{className:"popup__input popup__input_photourl",type:"url",name:"photoUrl",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",value:h,onChange:function(e){_(!0),E(e.target.value)},required:!0,isTouched:O,onButtonStatusChange:j}))},O=function(e){return o.a.createElement(P,{name:"confirm",title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",buttonTitle:e.buttonTitle,isOpened:e.isOpened,onClose:e.onClose,onSubmit:function(t){t.preventDefault(),e.onConfirm()}})},_=function(e){return o.a.createElement(w,{name:"view",isOpened:e.isOpened,onClose:e.onClose},o.a.createElement("div",{className:"popup__photoview"},o.a.createElement(d,{className:"popup__image",alt:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0444\u043e\u0442\u043e",src:e.card.link}),o.a.createElement("h2",{className:"popup__imagetitle"},e.card.name),o.a.createElement("button",{className:"popup__reset",type:"button",onClick:e.onClose})))},H=a(22),T=a(23),S=new(function(){function e(t){Object(H.a)(this,e),this._options=t}return Object(T.a)(e,[{key:"_serverRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return fetch(this._options.baseUrl+e,{method:t,headers:{authorization:this._options.headers.authorization,"Content-Type":this._options.headers["Content-Type"]},body:JSON.stringify(a)}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}},{key:"getUserInfo",value:function(){return this._serverRequest("users/me")}},{key:"saveProfile",value:function(e){return this._serverRequest("users/me","PATCH",e)}},{key:"saveAvatar",value:function(e){return this._serverRequest("users/me/avatar","PATCH",e)}},{key:"getInitialCards",value:function(){return this._serverRequest("cards")}},{key:"saveCard",value:function(e){return this._serverRequest("cards","POST",e)}},{key:"deleteCard",value:function(e){return this._serverRequest("cards/"+e,"DELETE")}},{key:"like",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=t?"PUT":"DELETE";return this._serverRequest("cards/likes/"+e,a)}}]),e}())({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-14/",headers:{authorization:"44e5d6af-1500-4757-9283-b4dfbe9e13fc","Content-Type":"application/json"}}),Q=function(){var e=o.a.useState(!1),t=Object(c.a)(e,2),a=t[0],n=t[1],r=o.a.useState(!1),i=Object(c.a)(r,2),s=i[0],l=i[1],u=o.a.useState(!1),f=Object(c.a)(u,2),p=f[0],m=f[1],d=o.a.useState(!1),b=Object(c.a)(d,2),v=b[0],E=b[1],w=o.a.useState(!1),P=Object(c.a)(w,2),B=P[0],H=P[1],T=o.a.useState({}),Q=Object(c.a)(T,2),L=Q[0],F=Q[1],k=o.a.useState({name:"",about:""}),D=Object(c.a)(k,2),X=D[0],J=D[1],W=o.a.useState([]),q=Object(c.a)(W,2),I=q[0],U=q[1],G=o.a.useState(!0),R=Object(c.a)(G,2),V=R[0],z=R[1],y=o.a.useState(!1),Z=Object(c.a)(y,2),K=Z[0],M=Z[1];o.a.useEffect((function(){Promise.all([S.getUserInfo(),S.getInitialCards()]).then((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];J(a),U(n)})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 : ",e)})).finally((function(){z(!1)}))}),[]);var Y=function(){n(!1),l(!1),m(!1),E(!1),H(!1),M(!1)};return o.a.createElement(h,{value:X},o.a.createElement(g,{onEditProfile:function(){n(!0)},onAddPlace:function(){l(!0)},onEditAvatar:function(){m(!0)},onCardClick:function(e){F(e),E(!0)},onCardLike:function(e){var t=e.likes.some((function(e){return e._id===X._id}));S.like(e._id,!t).then((function(t){var a=I.map((function(a){return a._id===e._id?t:a}));U(a)})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043b\u0430\u0439\u043a\u0430 : ",e)}))},onCardDelete:function(e){F(e),H(!0)},isHidden:V,cards:I}),o.a.createElement(C,null),o.a.createElement(j,{isOpened:a,onClose:Y,onUpdateUser:function(e){var t=e.name,a=e.about;M(!0),S.saveProfile({name:t,about:a}).then((function(e){J(e),Y()})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f : ",e)}))},buttonTitle:K?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),o.a.createElement(N,{isOpened:p,onClose:Y,onUpdateAvatar:function(e){var t=e.avatar;M(!0),S.saveAvatar({avatar:t}).then((function(e){J(e),Y()})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0430\u0432\u0430\u0442\u0430\u0440\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f : ",e)}))},value:X.avatar,buttonTitle:K?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),o.a.createElement(x,{isOpened:s,onClose:Y,onCreateCard:function(e){M(!0),S.saveCard(e).then((function(e){e&&U([e].concat(Object(A.a)(I)))})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 : ",e)}))},buttonTitle:K?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),o.a.createElement(O,{onConfirm:function(){M(!0),S.deleteCard(L._id).then((function(){var e=Object(A.a)(I),t=e.findIndex((function(e){return e._id===L._id}));t>=0&&(e.splice(t,1),U(e)),Y()})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 : ",e)}))},onClose:Y,isOpened:B,buttonTitle:K?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0414\u0430"}),o.a.createElement(_,{card:L,isOpened:v,onClose:Y}))},L=a(24),F=a.n(L),k=function(){return localStorage.getItem("usermail")},D=function(e){var t=o.a.useState(!1),a=Object(c.a)(t,2),n=a[0],r=a[1];return o.a.createElement("button",{className:"burger-button ".concat(n&&"burger-button_active"),onClick:function(){r(!n),e.onToggle&&e.onToggle()}},o.a.createElement("span",{className:"burger-button__lines"}))},X=function(e){var t=Object(l.g)(),a=o.a.useState(!1),n=Object(c.a)(a,2),r=n[0],i=n[1];return o.a.createElement("header",{className:"header"},o.a.createElement("img",{className:"header__logo",src:F.a,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"}),o.a.createElement("div",{className:"header__children ".concat(r?"header__children_visible":"header__children_hidden")},o.a.createElement(l.b,{exact:!0,path:"/"},o.a.createElement("p",{className:"header__email"},e.userEmail||k())),o.a.createElement(l.d,null,o.a.createElement(l.b,{path:"/sign-in"},o.a.createElement(s.b,{className:"header__link",to:"/sign-up"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")),o.a.createElement(l.b,{path:"/sign-up"},o.a.createElement(s.b,{className:"header__link",to:"/sign-in"},"\u0412\u0445\u043e\u0434")),o.a.createElement(l.b,{exact:!0,path:"/"},o.a.createElement(s.b,{className:"header__link header__link_logout",to:"/sign-in",onClick:function(){localStorage.removeItem("jwt"),localStorage.removeItem("usermail"),t.push("/sign-in")}},"\u0412\u044b\u0445\u043e\u0434")))),o.a.createElement(D,{onToggle:function(){i(!r)}}))},J=a(25),W=a.n(J),q=a(26),I=a.n(q),U=function(e){return o.a.createElement(w,{name:"info",isOpened:e.isOpened,onClose:e.onClose},o.a.createElement("div",{className:"popup__container"},o.a.createElement(d,{className:"popup__infoimage",alt:e.isSuccess?"\u0423\u0441\u043f\u0435\u0445":"\u041d\u0435\u0443\u0434\u0430\u0447\u043d\u043e",src:e.isSuccess?I.a:W.a}),o.a.createElement("p",{className:"popup__infomessage"},e.isSuccess?"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!":"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."," "),o.a.createElement("button",{className:"popup__reset",type:"button",onClick:e.onClose})))},G=function(e){var t=!0;return void 0!==e.buttonEnabled&&(t=e.buttonEnabled),o.a.createElement(o.a.Fragment,null,o.a.createElement("form",{className:"signform",action:"#",method:"POST",name:"".concat(e.name),noValidate:!0,onSubmit:e.onSubmit},o.a.createElement("h2",{className:"signform__title"},"".concat(e.title)),e.children,o.a.createElement("button",{className:"signform__submit ".concat(t?"":"signform__submit_disabled"),disabled:t?"":"disabled",type:"submit"},e.buttonTitle),e.linkTo?o.a.createElement(s.b,{to:e.linkTo,className:"signform__link"},e.linkText):null),o.a.createElement(U,{isOpened:e.showInfo,onClose:e.closeInfo,isSuccess:e.success}))},R=o.a.createContext(),V=function(e){return o.a.createElement(R.Provider,{value:e.value},e.children)},z=function(e){var t=Object(n.useContext)(R),a=o.a.useState(""),r=Object(c.a)(a,2),i=r[0],s=r[1],l=o.a.useState(!0),u=Object(c.a)(l,2),f=u[0],A=u[1],p=o.a.useState(!1),m=Object(c.a)(p,2),d=m[0],b=m[1],v=o.a.useState(""),h=Object(c.a)(v,2),E=h[0],g=h[1],C=o.a.useState(!0),w=Object(c.a)(C,2),P=w[0],j=w[1],N=o.a.useState(!1),x=Object(c.a)(N,2),O=x[0],_=x[1],H=f&&P;o.a.useEffect((function(){s(t.email),g("")}),[t]);return o.a.createElement(G,{title:"\u0412\u0445\u043e\u0434",buttonTitle:"\u0412\u043e\u0439\u0442\u0438",buttonEnabled:H,onSubmit:function(t){t.preventDefault(),e.onSubmit({email:i,password:E})},linkText:"\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",linkTo:"/sign-up",showInfo:e.showInfo,success:e.success,closeInfo:e.onCloseInfo},o.a.createElement(B,{className:"signform__input popup__input_email",wrapClasses:"signform__inputdiv",type:"email",name:"email",placeholder:"Email",value:i,onChange:function(e){b(!0),s(e.target.value)},required:!0,maxLength:"40",isTouched:d,onButtonStatusChange:A}),o.a.createElement(B,{className:"signform__input popup__input_password",wrapClasses:"signform__inputdiv",type:"password",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:E,onChange:function(e){_(!0),g(e.target.value)},required:!0,maxLength:"40",isTouched:O,onButtonStatusChange:j}))},y=function(e){var t=o.a.useState(""),a=Object(c.a)(t,2),n=a[0],r=a[1],i=o.a.useState(!0),s=Object(c.a)(i,2),l=s[0],u=s[1],f=o.a.useState(!1),A=Object(c.a)(f,2),p=A[0],m=A[1],d=o.a.useState(""),b=Object(c.a)(d,2),v=b[0],h=b[1],E=o.a.useState(!0),g=Object(c.a)(E,2),C=g[0],w=g[1],P=o.a.useState(!1),j=Object(c.a)(P,2),N=j[0],x=j[1],O=l&&C;return o.a.createElement(G,{title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",buttonTitle:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",buttonEnabled:O,onSubmit:function(t){t.preventDefault(),e.onSubmit({email:n,password:v})},linkText:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? \u0412\u043e\u0439\u0442\u0438",linkTo:"/sign-in",showInfo:e.showInfo,success:e.success,closeInfo:e.onCloseInfo},o.a.createElement(B,{className:"signform__input popup__input_email",wrapClasses:"signform__inputdiv",type:"email",name:"email",placeholder:"Email",value:n,onChange:function(e){m(!0),r(e.target.value)},required:!0,maxLength:"40",isTouched:p,onButtonStatusChange:u}),o.a.createElement(B,{className:"signform__input popup__input_password",wrapClasses:"signform__inputdiv",type:"password",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:v,onChange:function(e){x(!0),h(e.target.value)},required:!0,maxLength:"40",isTouched:N,onButtonStatusChange:w}))},Z="https://auth.nomoreparties.co",K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return fetch(Z+e,{method:t,headers:{Authorization:n,"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))},M=function(){var e=Object(n.useState)({_id:"",email:k()||""}),t=Object(c.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(!1),s=Object(c.a)(i,2),u=s[0],A=s[1],p=Object(l.g)(),m=Object(n.useState)(!1),d=Object(c.a)(m,2),b=d[0],v=d[1],h=Object(n.useState)(!1),E=Object(c.a)(h,2),g=E[0],C=E[1],w=function(e){v(!1),g&&p.push(e)},P=function(){var e=localStorage.getItem("jwt");e?function(e){return K("/users/me","GET",void 0,"Bearer ".concat(e))}(e).then((function(e){if(e){var t={_id:e.data._id,email:e.data.email};r(t),A(!0),p.push("/")}})).catch((function(e){C(!1),v(!0),console.log(e)})):p.push("/sign-in")};return Object(n.useEffect)((function(){P()}),[]),o.a.createElement(V,{value:a},o.a.createElement("div",{className:"page"},o.a.createElement(X,{userEmail:a.email}),o.a.createElement(l.d,null,o.a.createElement(l.b,{path:"/sign-in"},o.a.createElement(z,{onSubmit:function(e){var t=e.email,a=e.password;(function(e,t){return K("/signin","POST",{password:t,email:e})})(t,a).then((function(e){var a;a=e.token,localStorage.setItem("jwt",a),function(e){localStorage.setItem("usermail",e)}(t),A(!0),p.push("/")})).catch((function(e){C(!1),v(!0),console.log(e)}))},showInfo:b,success:g,onCloseInfo:function(){return w("/")}})),o.a.createElement(l.b,{path:"/sign-up"},o.a.createElement(y,{onSubmit:function(e){(function(e,t){return K("/signup","POST",{password:t,email:e})})(e.email,e.password).then((function(e){if(e){var t={_id:e.data._id,email:e.data.email};r(t),C(!0),v(!0)}})).catch((function(e){C(!1),v(!0),console.log(e)}))},showInfo:b,success:g,onCloseInfo:function(){return w("/sign-in")}})),o.a.createElement(f,{loggedIn:u,component:Q}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(s.a,null,o.a.createElement(M,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.d2d53f4c.chunk.js.map
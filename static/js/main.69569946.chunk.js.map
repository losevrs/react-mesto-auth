{"version":3,"sources":["images/header/logo.svg","images/onerror.jpg","components/ProtectedRoute.js","components/Header.js","components/UIelements/ImageWithError.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/popups/Popup.js","components/popups/PopupWithForm.js","components/UIelements/InputWithBrowserValidation.js","components/popups/EditProfilePopup.js","components/popups/EditAvatarPopup.js","components/popups/AddPlacePopup.js","components/popups/ConfirmPopup.js","components/popups/ImagePopup.js","utils/Api.js","components/MainPage.js","components/forms/SignForm.js","components/forms/Login.js","components/forms/Register.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","Component","component","props","loggedIn","to","className","src","logo","alt","children","React","useState","hasOnLoadError","setHasOnLoadError","useEffect","errorImage","onError","onClick","CurrentUserContext","createContext","useCurrentUserContext","useContext","CurrentUserContextProvider","Provider","value","card","onCardClick","onCardLike","onCardDelete","currentUser","canAddDelete","owner","_id","likeShow","likes","some","item","ImageWithError","link","type","name","length","handleAddPlaceClick","onAddPlace","bind","handleEditProfileClick","onEditProfile","handleEditAvatarClick","onEditAvatar","isHidden","avatar","about","cards","map","Card","key","popupOverlay","useRef","handleEscClose","useCallback","event","onClose","isOpened","document","addEventListener","removeEventListener","onMouseDown","target","current","ref","enabled","undefined","buttonEnabled","Popup","action","method","noValidate","onSubmit","title","disabled","buttonTitle","isValid","setIsValid","validationMessage","setValidationMessage","input","validity","valid","onButtonStatusChange","wrapClasses","placeholder","onChange","required","minLength","maxLength","isTouched","userName","setUserName","userNameIsValid","setUserNameIsValid","isUserNameTouched","setIsUserNameTouched","description","setDescription","descriptionIsValid","setDescriptionIsValid","isDescriptionTouched","setIsDescriptionTouched","PopupWithForm","preventDefault","onUpdateUser","InputWithBrowserValidation","userAvatar","setUserAvatar","userAvatarIsValid","setUserAvatarIsValid","isAvatarTouched","setIsAvatarTouched","resetInput","onUpdateAvatar","setName","nameIsValid","setNameIsValid","isNameTouched","setIsNameTouched","setLink","linkIsValid","setLinkIsValid","isLinkTouched","setIsLinkTouched","resetInputs","onCreateCard","onConfirm","api","options","this","_options","urlSuffix","body","fetch","baseUrl","headers","authorization","JSON","stringify","then","response","ok","json","Promise","reject","status","_serverRequest","profile","cardId","likeOn","metod","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsHidden","isSaving","setIsSaving","all","getUserInfo","getInitialCards","userInfo","initialCards","catch","error","console","log","finally","closeAllPopups","Header","Main","isLiked","like","newCard","newCards","c","Footer","EditProfilePopup","saveProfile","EditAvatarPopup","saveAvatar","AddPlacePopup","saveCard","cardData","ConfirmPopup","deleteCard","index","findIndex","splice","ImagePopup","linkTo","linkText","userEmail","setUserEmail","userEmailIsValid","setUserEmailIsValid","isUserEmailTouched","setIsUserEmailTouched","userPassword","setUserPassword","userPasswordIsValid","setUserPasswordIsValid","isUserPasswordTouched","setIsUserPasswordTouched","SignForm","useHistory","path","Login","Register","ProtectedRoute","MainPage","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","App","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.69569946.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.c6f11019.svg\";","module.exports = __webpack_public_path__ + \"static/media/onerror.a6166131.jpg\";","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nexport default ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() => props.loggedIn === true\r\n        ? <Component {...props} />\r\n        : <Redirect to='/sign-in' />\r\n      }\r\n    </Route>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport logo from '../images/header/logo.svg';\r\n\r\nexport default (props) => {\r\n  return (\r\n    <header className='header' >\r\n      <img className='header__logo'\r\n        src={logo}\r\n        alt='Логотип' />\r\n      <div className='header__children'>\r\n        {props.children}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport errorImage from '../../images/onerror.jpg';\r\n\r\nexport default (props) => {\r\n\r\n  const [hasOnLoadError, setHasOnLoadError] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    setHasOnLoadError(false);\r\n  },[props.src]);\r\n\r\n  const onLoadImageError = () => {\r\n    setHasOnLoadError(true);\r\n  }\r\n\r\n  return (\r\n    <img className={props.className}\r\n      src={hasOnLoadError ? errorImage : props.src}\r\n      alt={props.alt}\r\n      onError={onLoadImageError}\r\n      onClick={props.onClick} />\r\n  );\r\n}","import React, { useContext } from 'react'\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport const useCurrentUserContext = () => {\r\n  return useContext(CurrentUserContext);\r\n}\r\n\r\nexport const CurrentUserContextProvider = (props) => {\r\n  return (\r\n    <CurrentUserContext.Provider value={props.value}>\r\n      {props.children}\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}","import React from 'react';\r\nimport ImageWithError from './UIelements/ImageWithError'\r\n\r\nimport { useCurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default ({card, onCardClick, onCardLike, onCardDelete}) => {\r\n  const currentUser = useCurrentUserContext();\r\n\r\n  const canAddDelete = card.owner._id === currentUser._id;\r\n  const likeShow = card.likes.some((item) => { return item._id === currentUser._id; });\r\n\r\n  const handleCardClick = () => {\r\n    onCardClick(card);\r\n  }\r\n\r\n  const handleCardLike = () => {\r\n    onCardLike(card);\r\n  }\r\n\r\n  const handleCardDelete = () => {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <div className='photocard'>\r\n      <ImageWithError className='photocard__viewport'\r\n        src={card.link}\r\n        alt='Фото места'\r\n        onClick={handleCardClick}\r\n        onError={null} />\r\n\r\n      <button className={`photocard__delete ${canAddDelete && 'photocard__delete_show'}`}\r\n        type='button'\r\n        onClick={handleCardDelete}\r\n      />\r\n\r\n      <div className='photocard__description'>\r\n        <h2 className='photocard__placename'>{card.name}</h2>\r\n        <div className='photocard__likes'>\r\n          <button className={`photocard__like ${likeShow && 'photocard__like_on'}`}\r\n            type='button'\r\n            onClick={handleCardLike}\r\n          />\r\n          <span className='photocard__count'>{card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport ImageWithError from './UIelements/ImageWithError'\r\n\r\nimport Card from './Card';\r\nimport { useCurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default (props) => {\r\n\r\n  const handleAddPlaceClick = props.onAddPlace.bind(this);\r\n  const handleEditProfileClick = props.onEditProfile.bind(this);\r\n  const handleEditAvatarClick = props.onEditAvatar.bind(this);\r\n\r\n  const currentUser = useCurrentUserContext();\r\n\r\n  return (\r\n    <main className='main'>\r\n      <section className={`profile ${props.isHidden && 'profile_hidden'}`}>\r\n        <div className='profile__avatar-overlay'\r\n          onClick={handleEditAvatarClick} >\r\n          <ImageWithError className='profile__avatar'\r\n            src={currentUser.avatar}\r\n            alt='Аватар пользователя' />\r\n        </div>\r\n        <div className='profile__info'>\r\n          <div className='profile__title'>\r\n            <h1 className='profile__name'>{currentUser.name}</h1>\r\n            <button className='profile__editbutton'\r\n              onClick={handleEditProfileClick}\r\n              type='button' />\r\n          </div>\r\n          <p className='profile__about'>{currentUser.about}</p>\r\n        </div>\r\n        <button className='profile__addbutton'\r\n          onClick={handleAddPlaceClick}\r\n          type='button' />\r\n      </section>\r\n\r\n      <section className='placesphotos'>\r\n        {props.cards.map(card =>\r\n          <Card key={card._id}\r\n            card={card}\r\n            onCardClick={props.onCardClick}\r\n            onCardLike={props.onCardLike}\r\n            onCardDelete={props.onCardDelete}\r\n          />)}\r\n      </section>\r\n    </main>\r\n  );\r\n}","import React from 'react';\r\n\r\nexport default () => {\r\n    return (\r\n      <footer className='footer'>\r\n        <p className='footer__copyright'>&copy; 2020 Mesto Russia</p>\r\n      </footer>\r\n    );\r\n}","import React from 'react';\r\n\r\nexport default (props) => {\r\n\r\n  const popupOverlay = React.useRef(null);\r\n\r\n  const closeOnOverlayClick = (event) => {\r\n    if (event.target === popupOverlay.current) {\r\n      props.onClose();\r\n    }\r\n  }\r\n\r\n  const handleEscClose = React.useCallback((event) => {\r\n    if (event.key === 'Escape') {\r\n      props.onClose();\r\n    }\r\n    // eslint-disable-next-line\r\n  },[]);\r\n\r\n  React.useEffect(() => {\r\n    props.isOpened \r\n    ? document.addEventListener('keydown', handleEscClose)\r\n    : document.removeEventListener('keydown', handleEscClose);\r\n    // eslint-disable-next-line\r\n  }, [props.isOpened]);\r\n\r\n  return (\r\n    <section className={`popup popup_${props.name} ${props.isOpened && 'popup_opened'}`}\r\n      onMouseDown={closeOnOverlayClick}\r\n      ref={popupOverlay}>\r\n      {props.children}\r\n    </section>\r\n  );\r\n}","import React from 'react';\r\nimport Popup from './Popup';\r\n\r\nexport default (props) => {\r\n\r\n  let enabled = true; // если извне статус не задан - значит не учитываем его\r\n  if (props.buttonEnabled !== undefined) {\r\n    enabled = props.buttonEnabled;\r\n  }\r\n\r\n  return (\r\n    <Popup\r\n      name={props.name}\r\n      isOpened={props.isOpened}\r\n      onClose={props.onClose}>\r\n      <form className='popup__container'\r\n        action='#'\r\n        method='POST'\r\n        name={`${props.name}`}\r\n        noValidate \r\n        onSubmit={props.onSubmit}>\r\n        <h2 className='popup__title'>{`${props.title}`}</h2>\r\n\r\n        {props.children}\r\n\r\n        <button \r\n          className={`popup__submit ${enabled ? '' : 'popup__submit_disabled'}`}\r\n          disabled={enabled ? '' : 'disabled'}\r\n          type='submit'>{props.buttonTitle}</button>\r\n        <button className='popup__reset'\r\n          type='button'\r\n          onClick={props.onClose} />\r\n      </form>\r\n    </Popup>\r\n  );\r\n}","import React, { useEffect, useRef, useState } from 'react'\r\n\r\nexport default (props) => {\r\n\r\n  const [isValid, setIsValid] = useState(true);\r\n  const [validationMessage, setValidationMessage] = useState('None');\r\n\r\n  let input = useRef(null);\r\n\r\n  const validate = () => {\r\n    if (input.current) {\r\n      setIsValid(input.current.validity.valid);\r\n      setValidationMessage(input.current.validationMessage);\r\n      if (props.onButtonStatusChange !== undefined) {\r\n        props.onButtonStatusChange(input.current.validity.valid);\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    validate();\r\n  });\r\n\r\n  return (\r\n    <div className={props.wrapClasses}>\r\n      <input\r\n        className={props.className}\r\n        type={props.type}\r\n        name={props.name}\r\n        placeholder={props.placeholder}\r\n        value={props.value}\r\n        onChange={props.onChange}\r\n        required={props.required ? true : false}\r\n        minLength={props.minLength}\r\n        maxLength={props.maxLength}\r\n        ref={input}\r\n      />\r\n      <span className={`popup__input_type_error ${(!isValid && props.isTouched) ? 'popup__error_visible' : ''}`}>\r\n        {validationMessage}\r\n      </span>\r\n    </div>\r\n  );\r\n}","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nimport InputWithBrowserValidation from '../UIelements/InputWithBrowserValidation';\r\n\r\nimport { useCurrentUserContext } from '../../contexts/CurrentUserContext';\r\n\r\nexport default props => {\r\n\r\n  const currentUser = useCurrentUserContext();\r\n\r\n  const [userName, setUserName] = React.useState(currentUser.name);\r\n  const [userNameIsValid, setUserNameIsValid] = React.useState(true);\r\n  const [isUserNameTouched, setIsUserNameTouched] = React.useState(false);\r\n\r\n  const [description, setDescription] = React.useState(currentUser.about);\r\n  const [descriptionIsValid, setDescriptionIsValid] = React.useState(true);\r\n  const [isDescriptionTouched, setIsDescriptionTouched] = React.useState(false);\r\n\r\n  const buttonEnabled = userNameIsValid && descriptionIsValid;\r\n\r\n  React.useEffect(() => {\r\n    setUserName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  const handleChangeName = (event) => {\r\n    setIsUserNameTouched(true);\r\n    setUserName(event.target.value);\r\n  }\r\n\r\n  const handleChangeDescription = (event) => {\r\n    setIsDescriptionTouched(true);\r\n    setDescription(event.target.value);\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    props.onUpdateUser({\r\n      name: userName,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name='profileedit'\r\n      title='Редактировать профиль'\r\n      buttonTitle={props.buttonTitle}\r\n      buttonEnabled={buttonEnabled}\r\n      isOpened={props.isOpened}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}>\r\n\r\n      <InputWithBrowserValidation\r\n        className='popup__input popup__input_name popup__input_top'\r\n        type='text'\r\n        name='name'\r\n        placeholder='Имя'\r\n        value={userName}\r\n        onChange={handleChangeName}\r\n        required\r\n        minLength='2'\r\n        maxLength='40'\r\n        isTouched={isUserNameTouched}\r\n        onButtonStatusChange={setUserNameIsValid}\r\n      />\r\n\r\n      <InputWithBrowserValidation className='popup__input popup__input_about'\r\n        type='text'\r\n        name='about'\r\n        onChange={handleChangeDescription}\r\n        placeholder='Описание'\r\n        value={description}\r\n        required\r\n        minLength='2'\r\n        maxLength='200'\r\n        isTouched={isDescriptionTouched}\r\n        onButtonStatusChange={setDescriptionIsValid}\r\n      />\r\n\r\n    </PopupWithForm>\r\n  );\r\n}","import React, { useState } from 'react'\r\nimport PopupWithForm from './PopupWithForm';\r\nimport InputWithBrowserValidation from '../UIelements/InputWithBrowserValidation';\r\n\r\nexport default props => {\r\n\r\n  const [userAvatar, setUserAvatar] = useState('');\r\n  const [userAvatarIsValid, setUserAvatarIsValid] = useState(true);\r\n  const [isAvatarTouched, setIsAvatarTouched] = useState(false);\r\n\r\n  const buttonEnabled = userAvatarIsValid;\r\n\r\n  const resetInput = () => {\r\n    setUserAvatar('');\r\n    setIsAvatarTouched(false);\r\n  }\r\n\r\n  const handleChangeAvatar = (event) => {\r\n    setIsAvatarTouched(true);\r\n    setUserAvatar(event.target.value);\r\n  }\r\n  \r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    props.onUpdateAvatar({\r\n      avatar: userAvatar\r\n    });\r\n    resetInput();\r\n  }\r\n\r\n  const handleOnClose = () => {\r\n    props.onClose();\r\n    resetInput();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name='newavatar'\r\n      title='Обновить аватар'\r\n      buttonTitle={props.buttonTitle}\r\n      buttonEnabled={buttonEnabled}\r\n      isOpened={props.isOpened}\r\n      onClose={handleOnClose}\r\n      onSubmit={handleSubmit}>\r\n\r\n      <InputWithBrowserValidation\r\n        className='popup__input popup__input_top'\r\n        type='url'\r\n        name='avatar'\r\n        placeholder='Ссылка на картинку'\r\n        value={userAvatar}\r\n        onChange={handleChangeAvatar}\r\n        required\r\n        isTouched={isAvatarTouched}\r\n        onButtonStatusChange={setUserAvatarIsValid}\r\n      />\r\n\r\n    </PopupWithForm>\r\n  );\r\n}","import React, { useState } from 'react'\r\nimport PopupWithForm from './PopupWithForm';\r\nimport InputWithBrowserValidation from '../UIelements/InputWithBrowserValidation';\r\n\r\nexport default props => {\r\n\r\n  const [name, setName] = useState('');\r\n  const [nameIsValid, setNameIsValid] = useState(true);\r\n  const [isNameTouched, setIsNameTouched] = useState(false);\r\n\r\n  const [link, setLink] = useState('');\r\n  const [linkIsValid, setLinkIsValid] = useState(true);\r\n  const [isLinkTouched, setIsLinkTouched] = useState(false);\r\n\r\n  const buttonEnabled = nameIsValid && linkIsValid;\r\n\r\n  const resetInputs = () => {\r\n    setName('');\r\n    setLink('');\r\n    setIsNameTouched(false);\r\n    setIsLinkTouched(false);\r\n  }\r\n\r\n  const handleChangeName = (event) => {\r\n    setIsNameTouched(true);\r\n    setName(event.target.value);\r\n  }\r\n\r\n  const handleChangeLink = (event) => {\r\n    setIsLinkTouched(true);\r\n    setLink(event.target.value);\r\n  }\r\n\r\n  const handleOnClose = () => {\r\n    props.onClose();\r\n    resetInputs();\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    props.onCreateCard({\r\n      name,\r\n      link\r\n    });\r\n    props.onClose();\r\n    resetInputs();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name='newplace'\r\n      title='Новое место'\r\n      buttonTitle={props.buttonTitle}\r\n      buttonEnabled={buttonEnabled}\r\n      isOpened={props.isOpened}\r\n      onClose={handleOnClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n\r\n      <InputWithBrowserValidation\r\n        className='popup__input popup__input_photoname popup__input_top'\r\n        type='text'\r\n        name='photoName'\r\n        placeholder='Название'\r\n        value={name}\r\n        onChange={handleChangeName}\r\n        required\r\n        minLength='1'\r\n        maxLength='30'\r\n        isTouched={isNameTouched}\r\n        onButtonStatusChange={setNameIsValid}\r\n      />\r\n\r\n      <InputWithBrowserValidation\r\n        className='popup__input popup__input_photourl'\r\n        type='url'\r\n        name='photoUrl'\r\n        placeholder='Ссылка на картинку'\r\n        value={link}\r\n        onChange={handleChangeLink}\r\n        required\r\n        isTouched={isLinkTouched}\r\n        onButtonStatusChange={setLinkIsValid}\r\n      />\r\n\r\n    </PopupWithForm>\r\n  );\r\n}","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default props => {\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    props.onConfirm();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name='confirm'\r\n      title='Вы уверены?'\r\n      buttonTitle={props.buttonTitle}\r\n      isOpened={props.isOpened}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n}","import React from 'react';\r\nimport Popup from './Popup';\r\nimport ImageWithError from '../UIelements/ImageWithError'\r\n\r\nexport default (props) => {\r\n  return (\r\n    <Popup\r\n      name='view'\r\n      isOpened={props.isOpened}\r\n      onClose={props.onClose}>\r\n      <div className='popup__photoview'>\r\n        <ImageWithError className='popup__image'\r\n          alt='Просмотр фото'\r\n          src={props.card.link}/>\r\n        <h2 className='popup__imagetitle'>{props.card.name}</h2>\r\n        <button className='popup__reset'\r\n          type='button'\r\n          onClick={props.onClose} />\r\n      </div>\r\n    </Popup>\r\n  );\r\n}","class Api {\n  constructor(options) {\n    this._options = options;\n  }\n\n  // Запрос к серверу - по умолчанию GET\n  _serverRequest(urlSuffix, method = 'GET', body = undefined) {\n    return fetch(this._options.baseUrl + urlSuffix, {\n      method: method,\n      headers: {\n        authorization: this._options.headers.authorization,\n        'Content-Type': this._options.headers['Content-Type']\n      },\n      body: JSON.stringify(body)\n    })\n      .then(response => {\n        if (response.ok) {\n          return response.json();\n        }\n        return Promise.reject(`Ошибка: ${response.status}`);\n      });\n  }\n\n  // Профиль пользователя\n  getUserInfo() {\n    return this._serverRequest('users/me');\n  }\n\n  saveProfile(profile) {\n    return this._serverRequest('users/me', 'PATCH', profile);\n  }\n\n  saveAvatar(avatar) {\n    return this._serverRequest('users/me/avatar', 'PATCH', avatar);\n  }\n\n  // Инициализация карточек\n  getInitialCards() {\n    return this._serverRequest('cards');\n  }\n\n  saveCard(card) {\n    return this._serverRequest('cards', 'POST', card);\n  }\n\n  deleteCard(cardId) {\n    return this._serverRequest('cards/' + cardId, 'DELETE');\n  }\n\n  // Лайки\n  like(cardId, likeOn = true) {\n    const metod = likeOn ? 'PUT' : 'DELETE';\n    return this._serverRequest('cards/likes/' + cardId, metod);\n  }\n\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14/',\n  headers: {\n    authorization: '44e5d6af-1500-4757-9283-b4dfbe9e13fc',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport {api}","import React from 'react';\n\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\n\nimport EditProfilePopup from './popups/EditProfilePopup';\nimport EditAvatarPopup from './popups/EditAvatarPopup';\nimport AddPlacePopup from './popups/AddPlacePopup';\nimport ConfirmPopup from './popups/ConfirmPopup';\nimport ImagePopup from './popups/ImagePopup';\n\nimport { api } from '../utils/Api';\n\nimport { CurrentUserContextProvider } from '../contexts/CurrentUserContext';\n\nexport default () => {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n\n  // Стейты для Main\n  const [currentUser, setCurrentUser] = React.useState({ name: '', about: '' });\n  const [cards, setCards] = React.useState([]);\n  const [isHidden, setIsHidden] = React.useState(true); //Видимость профиля в Main\n\n  const [isSaving, setIsSaving] = React.useState(false);\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([userInfo, initialCards]) => {\n        setCurrentUser(userInfo);\n        setCards(initialCards);\n      })\n      .catch((error) => console.log('Ошибка запроса : ', error))\n      .finally(() => {\n        setIsHidden(false);\n      });\n  }, []);\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n    setIsImagePopupOpen(true);\n  }\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((item) => { return item._id === currentUser._id; });\n\n    api.like(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((error) => console.log('Ошибка обработки лайка : ', error))\n  }\n\n  const handleCardConfirm = (card) => {\n    setSelectedCard(card);\n    setIsConfirmPopupOpen(true);\n  }\n\n  const handleCardDelete = () => {\n    setIsSaving(true);\n    api.deleteCard(selectedCard._id)\n      .then(() => {\n        const newCards = [...cards];\n        const index = newCards.findIndex((item) => { return item._id === selectedCard._id });\n        if (index >= 0) {\n          newCards.splice(index, 1);\n          setCards(newCards);\n        }\n        closeAllPopups();\n      })\n      .catch((error) => console.log('Ошибка удаления карточки : ', error));\n  }\n\n  const handleUpdateUser = ({ name, about }) => {\n    setIsSaving(true);\n    api.saveProfile({ 'name': name, 'about': about })\n      .then((userInfo) => {\n        setCurrentUser(userInfo);\n        closeAllPopups();\n      })\n      .catch((error) => console.log('Ошибка изменения данных пользователя : ', error));\n  }\n\n  const handleUpdateAvatar = ({ avatar }) => {\n    setIsSaving(true);\n    api.saveAvatar({ 'avatar': avatar })\n      .then((userInfo) => {\n        setCurrentUser(userInfo);\n        closeAllPopups();\n      })\n      .catch((error) => console.log('Ошибка изменения аватара пользователя : ', error));\n  }\n\n  const handleCreateCard = (card) => {\n    setIsSaving(true);\n    api.saveCard(card)\n      .then((cardData) => {\n        if (cardData) {\n          setCards([\n            cardData,\n            ...cards\n          ]);\n        }\n      })\n      .catch((error) => console.log('Ошибка создания карточки : ', error));\n  }\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsConfirmPopupOpen(false);\n    setIsSaving(false);\n    setSelectedCard({});\n  }\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  return (\n    <CurrentUserContextProvider value={currentUser}>\n      <Header />\n\n      <Main onEditProfile={handleEditProfileClick}\n        onAddPlace={handleAddPlaceClick}\n        onEditAvatar={handleEditAvatarClick}\n        onCardClick={handleCardClick}\n        onCardLike={handleCardLike}\n        onCardDelete={handleCardConfirm}\n        isHidden={isHidden}\n        cards={cards}\n      />\n      <Footer />\n\n      <EditProfilePopup\n        isOpened={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n        buttonTitle={isSaving ? 'Сохранение...' : 'Сохранить'}\n      />\n\n      <EditAvatarPopup\n        isOpened={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n        value={currentUser.avatar}\n        buttonTitle={isSaving ? 'Сохранение...' : 'Сохранить'}\n      />\n\n      <AddPlacePopup\n        isOpened={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onCreateCard={handleCreateCard}\n        buttonTitle={isSaving ? 'Сохранение...' : 'Сохранить'}\n      />\n\n      <ConfirmPopup\n        onConfirm={handleCardDelete}\n        onClose={closeAllPopups}\n        isOpened={isConfirmPopupOpen}\n        buttonTitle={isSaving ? 'Сохранение...' : 'Да'}\n      />\n\n      <ImagePopup\n        card={selectedCard}\n        isOpened={isImagePopupOpen}\n        onClose={closeAllPopups}\n      />\n\n    </CurrentUserContextProvider>\n  );\n}\n\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default (props) => {\r\n\r\n  let enabled = true;\r\n  if (props.buttonEnabled !== undefined) {\r\n    enabled = props.buttonEnabled;\r\n  }\r\n\r\n  return (\r\n    <form className='signform'\r\n      action='#'\r\n      method='POST'\r\n      name={`${props.name}`}\r\n      noValidate\r\n      onSubmit={props.onSubmit} >\r\n\r\n      <h2 className='signform__title'>{`${props.title}`}</h2>\r\n\r\n      { props.children }\r\n\r\n      <button\r\n        className={`signform__submit ${enabled ? '' : 'signform__submit_disabled'}`}\r\n        disabled={enabled ? '' : 'disabled'}\r\n        type='submit'>{props.buttonTitle}</button>\r\n\r\n      {props.linkTo\r\n        ? <Link to={props.linkTo} className='signform__link'>{props.linkText}</Link>\r\n        : null\r\n      }\r\n\r\n\r\n    </form >\r\n  );\r\n}\r\n","import React from 'react'\r\nimport SignForm from './SignForm';\r\nimport InputWithBrowserValidation from '../UIelements/InputWithBrowserValidation';\r\n\r\nexport default props => {\r\n  const [userEmail, setUserEmail] = React.useState('');\r\n  const [userEmailIsValid, setUserEmailIsValid] = React.useState(true);\r\n  const [isUserEmailTouched, setIsUserEmailTouched] = React.useState(false);\r\n\r\n  const [userPassword, setUserPassword] = React.useState('');\r\n  const [userPasswordIsValid, setUserPasswordIsValid] = React.useState(true);\r\n  const [isUserPasswordTouched, setIsUserPasswordTouched] = React.useState(false);\r\n\r\n  const buttonEnabled = userEmailIsValid && userPasswordIsValid;\r\n\r\n  const handleChangeEmail = (event) => {\r\n    setIsUserEmailTouched(true);\r\n    setUserEmail(event.target.value);\r\n  }\r\n\r\n  const handleChangePassword = (event) => {\r\n    setIsUserPasswordTouched(true);\r\n    setUserPassword(event.target.value);\r\n  }\r\n\r\n  return (\r\n    <SignForm\r\n      title='Вход'\r\n      buttonTitle='Войти'\r\n      buttonEnabled={buttonEnabled}\r\n      linkText='Ещё не зарегистрированы? Регистрация'\r\n      linkTo='/sign-up'\r\n    >\r\n\r\n      <InputWithBrowserValidation\r\n        className='signform__input popup__input_email'\r\n        wrapClasses='signform__inputdiv'\r\n        type='email'\r\n        name='email'\r\n        placeholder='Email'\r\n        value={userEmail}\r\n        onChange={handleChangeEmail}\r\n        required\r\n        maxLength='40'\r\n        isTouched={isUserEmailTouched}\r\n        onButtonStatusChange={setUserEmailIsValid}\r\n      />\r\n\r\n      <InputWithBrowserValidation\r\n        className='signform__input popup__input_password'\r\n        wrapClasses='signform__inputdiv'\r\n        type='password'\r\n        name='password'\r\n        placeholder='Пароль'\r\n        value={userPassword}\r\n        onChange={handleChangePassword}\r\n        required\r\n        maxLength='40'\r\n        isTouched={isUserPasswordTouched}\r\n        onButtonStatusChange={setUserPasswordIsValid}\r\n      />\r\n\r\n    </SignForm>);\r\n}","import React from 'react'\r\nimport SignForm from './SignForm';\r\nimport InputWithBrowserValidation from '../UIelements/InputWithBrowserValidation';\r\n\r\nexport default props => {\r\n  const [userEmail, setUserEmail] = React.useState('');\r\n  const [userEmailIsValid, setUserEmailIsValid] = React.useState(true);\r\n  const [isUserEmailTouched, setIsUserEmailTouched] = React.useState(false);\r\n\r\n  const [userPassword, setUserPassword] = React.useState('');\r\n  const [userPasswordIsValid, setUserPasswordIsValid] = React.useState(true);\r\n  const [isUserPasswordTouched, setIsUserPasswordTouched] = React.useState(false);\r\n\r\n  const buttonEnabled = userEmailIsValid && userPasswordIsValid;\r\n\r\n  const handleChangeEmail = (event) => {\r\n    setIsUserEmailTouched(true);\r\n    setUserEmail(event.target.value);\r\n  }\r\n\r\n  const handleChangePassword = (event) => {\r\n    setIsUserPasswordTouched(true);\r\n    setUserPassword(event.target.value);\r\n  }\r\n\r\n  return (\r\n    <SignForm\r\n      title='Регистрация'\r\n      buttonTitle='Зарегистрироваться'\r\n      buttonEnabled={buttonEnabled}\r\n      linkText='Уже зарегистрированы? Войти'\r\n      linkTo='/sign-in'\r\n    >\r\n\r\n      <InputWithBrowserValidation\r\n        className='signform__input popup__input_email'\r\n        wrapClasses='signform__inputdiv'\r\n        type='email'\r\n        name='email'\r\n        placeholder='Email'\r\n        value={userEmail}\r\n        onChange={handleChangeEmail}\r\n        required\r\n        maxLength='40'\r\n        isTouched={isUserEmailTouched}\r\n        onButtonStatusChange={setUserEmailIsValid}\r\n      />\r\n\r\n      <InputWithBrowserValidation\r\n        className='signform__input popup__input_password'\r\n        wrapClasses='signform__inputdiv'\r\n        type='password'\r\n        name='password'\r\n        placeholder='Пароль'\r\n        value={userPassword}\r\n        onChange={handleChangePassword}\r\n        required\r\n        maxLength='40'\r\n        isTouched={isUserPasswordTouched}\r\n        onButtonStatusChange={setUserPasswordIsValid}\r\n      />\r\n\r\n    </SignForm>);\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { Link, Redirect, Route, Switch, useHistory } from 'react-router-dom';\r\n\r\nimport ProtectedRoute from './ProtectedRoute'\r\nimport MainPage from './MainPage';\r\nimport Header from './Header';\r\nimport Login from './forms/Login';\r\nimport Register from './forms/Register';\r\n\r\nexport default () => {\r\n\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <div className='page'>\r\n      <Switch>\r\n        <Route path='/sign-in'>\r\n          <Header>\r\n            <Link className='header__link' to='/sign-up'>Регистрация</Link>\r\n          </Header>\r\n          <Login />\r\n        </Route>\r\n        <Route path='/sign-up'>\r\n          <Header>\r\n            <Link className='header__link' to='/sign-in'>Вход</Link>\r\n          </Header>\r\n          <Register />\r\n        </Route>\r\n        <ProtectedRoute loggedIn={loggedIn} component={MainPage} />\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.register();\nserviceWorker.unregister();\n"],"sourceRoot":""}